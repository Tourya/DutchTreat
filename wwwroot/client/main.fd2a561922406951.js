"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{565:(n,g,s)=>{var a=s(481),m=s(700),t=s(215),h=s(4);class _{}class A{constructor(){this.orderDate=new Date,this.items=[]}}class i{constructor(e){this.http=e,this.products=[],this.order=new A}loadProducts(){return this.http.get("/api/products").pipe((0,h.U)(e=>{this.products=e}))}addToOrder(e){let r;r=this.order.items.find(Z=>Z.productArtId===e.artId),r?r.quantity++:(r=new _,r.productId=e.id,r.productTitle=e.title,r.productArtId=e.artId,r.productArtist=e.artist,r.productCategory=e.category,r.productSize=e.size,r.unitPrice=e.price,r.quantity=1,this.order.items.push(r))}}i.\u0275fac=function(e){return new(e||i)(t.LFG(m.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac});var l=s(895);function f(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"h5"),t._uU(4),t.qZA(),t.TgZ(5,"ul",5)(6,"li"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"li"),t._uU(10),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.qZA(),t.TgZ(13,"li"),t._uU(14),t.qZA()(),t.TgZ(15,"button",6),t.NdJ("click",function(){const x=t.CHM(r).$implicit,y=t.oxw();return t.KtG(y.store.addToOrder(x))}),t._uU(16,"Buy"),t.qZA()()()}if(2&o){const r=e.$implicit;t.xp6(2),t.MGl("src","/img/",r.artId,".jpg",t.LSH),t.s9C("alt",r.title),t.xp6(2),t.AsE("",r.category," - ",r.size,""),t.xp6(3),t.hij("Price: ",t.xi3(8,8,r.price,"EUR"),""),t.xp6(3),t.hij("Artist: ",r.artist,""),t.xp6(2),t.hij("Title: ",r.title,""),t.xp6(2),t.Oqu(r.artDescription)}}class p{constructor(e){this.store=e}ngOnInit(){this.store.loadProducts().subscribe()}}function T(o,e){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"currency"),t.qZA()()),2&o){const r=e.$implicit;t.xp6(2),t.MGl("src","/img/",r.productArtId,".jpg",t.LSH),t.s9C("alt",r.productArtist),t.xp6(2),t.Oqu(r.productCategory),t.xp6(2),t.Oqu(r.quantity),t.xp6(2),t.Oqu(t.xi3(9,6,r.unitPrice,"EUR")),t.xp6(3),t.Oqu(t.xi3(12,9,r.unitPrice*r.quantity,"EUR"))}}p.\u0275fac=function(e){return new(e||p)(t.Y36(i))},p.\u0275cmp=t.Xpm({type:p,selectors:[["product-list"]],decls:2,vars:1,consts:[[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"border","bg-light","rounded","p-1"],[1,"img-fluid","product-image",3,"src","alt"],[1,"products-props"],["id","buyBtn",1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,f,17,11,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",r.store.products))},dependencies:[l.sg,l.H9],styles:[".product-image[_ngcontent-%COMP%]{border:1px #ddd solid;box-shadow:#0006 2px 2px;margin:2px}.products-props[_ngcontent-%COMP%]{font-size:.9rem}"]});class d{constructor(e){this.store=e}}d.\u0275fac=function(e){return new(e||d)(t.Y36(i))},d.\u0275cmp=t.Xpm({type:d,selectors:[["cart"]],decls:19,vars:2,consts:[[1,"table","table-condensed","table-striped"],[4,"ngFor","ngForOf"],[1,"img-fluid","product-thumb",3,"src","alt"]],template:function(e,r){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Cart"),t.qZA(),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"table",0)(5,"thead")(6,"tr"),t._UZ(7,"th"),t.TgZ(8,"th"),t._uU(9,"Product"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Quantity"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Price"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Total"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,T,13,12,"tr",1),t.qZA()(),t._UZ(18,"hr")),2&e&&(t.xp6(3),t.hij("Count: ",r.store.order.items.length,""),t.xp6(14),t.Q6J("ngForOf",r.store.order.items))},dependencies:[l.sg,l.H9],styles:[".product-thumb[_ngcontent-%COMP%]{max-width:50px}"]});class u{constructor(){this.title="Shop"}}u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["the-shop"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-9"],[1,"col-3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"product-list"),t.qZA(),t.TgZ(5,"div",2),t._UZ(6,"cart"),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(r.title))},dependencies:[p,d],encapsulation:2});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c,bootstrap:[u]}),c.\u0275inj=t.cJS({providers:[i],imports:[a.b2,m.JF]}),a.q6().bootstrapModule(c).catch(o=>console.error(o))}},n=>{n.O(0,[736],()=>n(n.s=565)),n.O()}]);